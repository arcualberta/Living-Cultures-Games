<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Drag And Drop</title>

        <link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet">

        <script type="text/javascript" src="./js/jquery-1.11.2.min.js"></script>
        <script type="text/javascript" src="./js/game.js"></script>

        <style>
            #imagePanel
            {
                overflow-y: auto;
                height: -moz-calc(100% - (20px + 30px));
                height: -webkit-calc(100% - (20px + 30px));
                height: calc(100% - (20px + 30px));
                border: blue dashed 1px;
            }

            img.gameImage
            {
                max-width: 100%;
                height: 100px;
            }

            #roomPanel
            {
                width: 800px;
                height: 600px;
                background-position: center center;
                background-size: 100% 100%;
                position: absolute;
            }
            
            img:focus{
                border: green dotted 1px;
            }
        </style>
    </head>
    <body class="container-fluid">
        <div class="row">
            <div id="imagePanel" class="col-xs-12">

            </div> 
        </div>
        <div class="row">
            <div class="col-xs-12 horizontal-center">
                <div id="roomPanel" class="pagination-centered" style="display: flex">

                </div>
            </div>
        </div>
        <div class="row">
            <h1 id="messagePanel"></h1>
        </div>


        <script src="./bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            var game;

            $(document).ready(function () {
                var allObjects = {
					'Red Banner' : 'img/IMG_0201.jpg',
					'Dragon Boat' : 'img/IMG_0194.jpg',
					'Small Dumpling Ball': 'img/IMG_0205.jpg',
					'Rice Dumpling' : 'img/IMG_0191.jpg',
					
					'Mooncake': 'img/IMG_0211.jpg',
					'Dumpling' : 'img/IMG_0197.jpg',
					'Full Moon': 'img/IMG_0268.png',
					'Lantern': 'img/IMG_0208.jpg',
                };
                var requiredObjects = [
					{name: "Dragon Boat Festival", required: ['Rice Dumpling', 'Dragon Boat']},
					{name: "Chinese New Year Day", required: ['Dumpling', 'Red Banner']},
					{name: "Lantern Festival", required: ['Small Dumpling Ball', 'Lantern']},
					{name: "Mid-Autumn Festival", required: ['Mooncake', 'Full Moon']},
				];
                game = new Game(allObjects, requiredObjects, 'imagePanel', 'roomPanel');
                game.onwin = function () {
                    $(messagePanel).text("You Win!");
                };
                game.onbadobject = function () {
                    $(messagePanel).text("Somethings wrong...");
                };
                game.onnostate = function () {
                    $(messagePanel).text("");
                };
            });
        </script>
    </body>
</html>